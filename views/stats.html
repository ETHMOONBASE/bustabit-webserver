{{##def.page_title = 'Stats' #}}

{{##def.content:
    <div class="content row panel radius">
        <div class="row">
            <div class="large-6 columns">
                <h5>Winxrp.com Statistics</h5>
                <small>Generated {{! it.generated }}</small>
                <table class="stats">
                    <tbody>
                        <tr>
                            <td>
                                <b>Pending Withdraws:</b><br />
                                <small>(withdrawals that require admin to look at)</small>

                            </td>
                            <td>{{= it.stats.pending_withdrawals.count }}</td>
                        </tr>
                        <tr>
                            <td>
                                <b>Unterminated Games:</b><br />
                                <small>(games that require admin to look at)</small>
                            </td>
                            <td>{{=it.stats.unterminated_games.count}} </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td><b>Deposits:</b></td>
                            <td>{{#def.format: {n: it.stats.deposits.sum} }} rips</td>
                        </tr>
                        <tr>
                            <td><b>Withdrawals:</b></td>
                            <td>{{#def.format: { n: it.stats.withdrawals.sum } }} rips</td>
                        </tr>
                        <tr>
                            <td class="strong">Net:</td>
                            <td class="strong">{{#def.format: { n: (it.stats.deposits.sum - (it.stats.withdrawals.sum * -1)) } }} rips</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><b>Total Wagered:</b></td>
                            <td>{{#def.format: {n: it.stats.plays.total_bet } }} rips</td>
                        </tr>
                        <tr>
                            <td><b>Players won in cashed:</b></td>
                            <td>{{#def.format: {n: it.stats.plays.cashed_out } }} rips <small>(
                                   {{= (it.stats.plays.cashed_out / it.stats.plays.total_bet * 100).toFixed(2) }}%
                                )</small></td>
                        </tr>
                        <tr>
                            <td><b>Players won in bonuses:</b></td>
                            <td>{{#def.format: {n: it.stats.plays.bonused } }} rips <small>(
                                {{= (it.stats.plays.bonused / it.stats.plays.total_bet * 100).toFixed(2) }}%
                                )</small></td>
                        </tr>
                        <tr>
                            <td><b>Players won in total: </b></td>
                            <td>{{#def.format: {n: (9 + it.stats.plays.cashed_out + it.stats.plays.bonused) } }} rips <small>(
                                {{= ((it.stats.plays.cashed_out + it.stats.plays.bonused) / it.stats.plays.total_bet * 100).toFixed(2) }}%
                                )</small></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="strong">Investments:</td>
                            <td>
                                {{#def.format: {n: it.stats.investments.sum } }} rips <small>(
                                    {{= ( it.stats.investments.sum / (it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused + it.stats.bankroll_offset + it.stats.total_invested.sum) * 100).toFixed(2) }}% BR
                                    )</small>
                            </td>
                        </tr>
                        <tr>
                            <td class="strong">Total Invested:</td>
                            <td>
                                {{#def.format: {n: it.stats.total_invested.sum } }} rips
                            </td>
                        </tr>
                        <tr>
                            <td class="strong">Investors Profit:</td>
                            <td class="strong">
                                {{#def.format: {n: it.stats.investments.sum - it.stats.total_invested.sum } }} rips <small>(
                                    {{= ( (it.stats.investments.sum - it.stats.total_invested.sum) / it.stats.total_invested.sum * 100).toFixed(2) }}%
                                    )</small>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="strong">Our Profit:</td>
                            <td class="strong">
                                {{#def.format: {n: (it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused) - (it.stats.investments.sum - it.stats.total_invested.sum) } }} rips
                                <small>(
                                    {{= (((it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused) - (it.stats.investments.sum - it.stats.total_invested.sum)) / it.stats.plays.total_bet * 100).toFixed(2) }}%
                                    )</small>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="strong">Bankroll:</td>
                            <td class="strong">
                                {{#def.format: {n: it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused + it.stats.bankroll_offset + it.stats.total_invested.sum } }} rips
                            </td>
                        </tr>
                        <tr>
                            <td class="strong">Max win per game:</td>
                            <td>
                                {{#def.format: {n: (it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused + it.stats.bankroll_offset + it.stats.total_invested.sum)*0.03 } }} rips
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><b>Total Users:</b></td>
                            <td>{{=it.stats.users.count}}</td>
                        </tr>
                        <tr>
                            <td><b>Total Plays:</b></td>
                            <td>{{=it.stats.plays.count }}</td>
                        </tr>
                        <tr>
                            <td><b>Total Games:</b></td>
                            <td>{{=it.stats.games.count}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
 #}}

{{#def.include('./template/main_old')}}
